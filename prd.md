### 模拟下单工具图形化页面说明（测试环境专用）

---

#### 一、页面名称

模拟下单测试工具

---

#### 二、页面结构划分

##### 1. 下单参数配置区

| 字段名               | 控件类型                   | 说明                | 是否支持随机 |
| ----------------- | ---------------------- | ----------------- | ------ |
| 商户号（merchant\_no） | 下拉选择（Select）           | 从测试环境商户池中选择       | 否      |
| 商户密钥（api\_key）    | 自动填充字段（Input，disabled） | 自动展示              | 否      |
| 支付产品编码（code）      | 下拉选择（Select）           | 仅展示该商户已配置的产品编码    | 否      |
| 回调地址（notify\_url） | 自动填充字段（Input，disabled） | 默认为平台统一 mock 回调地址 | 否      |
| 使用随机金额            | Switch 开关              | 控制是否使用随机金额        | -      |

**金额字段（分情况显示）：**

* 若未启用随机金额：

  * 订单金额（InputNumber）→ 保留两位小数，最小为 0.01

* 若启用随机金额：

  * 最小金额（InputNumber）
  * 最大金额（InputNumber）
  * 校验：最小值 ≤ 最大值，均保留两位小数

**其他字段：**

* 订单数量（InputNumber）→ 示例默认 100 单
* 模拟状态策略（Radio 选项）：

  * 全部成功
  * 全部失败
  * 状态混合（随机 8 种状态）

---

##### 2. 操作按钮区

* ▶️【开始模拟下单】
* ⏹️【终止任务】（执行中启用）
* 🧹【清空记录】
* 📅【导出订单记录】（CSV / Excel）

---

##### 3. 模拟订单展示区（表格）

| 字段                  | 说明                    |
| ------------------- | --------------------- |
| 商户订单号（order\_sn）    | 格式如 SIM20250805123456 |
| 平台订单号（trade\_num）   | 老系统返回的订单号             |
| 金额（order\_amount）   | 随机或固定金额               |
| 模拟状态（order\_status） | 0-创建、1-成功、8-补单成功等     |
| 回调状态                | SUCCESS / 失败（含响应内容）   |
| 回调时间                | 如已回调则展示               |
| 操作                  | 按钮：重发回调               |

---

#### 三、回调逻辑说明

* 仅 `order_status` = `1`（交易成功）或 `8`（补单成功）会触发回调
* 按照接口签名规范进行签名
* 回调返回需包含字符串 `SUCCESS`，否则认为失败
* 每单最多回调一次，如失败支持点击“重发回调”

---

#### 四、交互行为说明

* 使用随机金额：启用后隐藏“固定金额”字段，展示金额范围
* 所有金额输入项限制为保留两位小数（精度控制）
* 回调地址不允许修改，仅展示
* 下单成功后将按配置状态批量模拟并回调订单

---

#### 五、页面结构草图（逻辑布局）

```
┌─────────────────────────────────────────────┐
│            模拟下单游戏工具页面             │
├─────────────────────────────────────────────┤
│  商户号 [Select]         商户密钥 [disabled]       │
│  支付类型 [Select]      回调地址 [readonly]       │
│  [ ] 使用随机金额                            │
│     无随机: [金额]                                  │
│     随机: [最小] ~ [最大]                           │
│  订单数量: [   100   ]                        状态策略: ( 全成功 ) │
│  [开始下单] [止步] [清空记录] [导出订单]    │
├─────────────────────────────────────────────┤
│  订单列表显示区 (表格)                           │
│  [商户订单 | 金额 | 状态 | 回调 | 操作 ]               │
└─────────────────────────────────────────────┘
```
